(()=>{var et=Object.defineProperty,it=Object.defineProperties;var nt=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var ot=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;var G=(i,t,o)=>t in i?et(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o,L=(i,t)=>{for(var o in t||(t={}))ot.call(t,o)&&G(i,o,t[o]);if(E)for(var o of E(t))rt.call(t,o)&&G(i,o,t[o]);return i},A=(i,t)=>it(i,nt(t));var j=`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24" rx="4" fill="#F5F5F5"/>
</svg>`,q=`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24" rx="4" fill="#FFDD2D"/>
  <path d="M7 12L10 15L17 8" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,J=`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24" rx="4" fill="#FFDD2D"/>
  <rect x="7" y="11" width="10" height="2" fill="black"/>
</svg>`,K=`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 8L9.34218 2L10.6844 3.42335L6.18436 8L10.6844 12.5766L9.34218 14L3.5 8Z" fill="#126DF7"/>
</svg>`,O=`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M16.2647 7.36426C13.7935 5.08635 9.94281 5.14665 7.54455 7.54516C5.08419 10.0058 5.08419 13.9946 7.54455 16.4552C10.004 18.9149 13.9933 18.9149 16.4537 16.4552C16.9801 15.9278 17.835 15.9278 18.3624 16.4552C18.8897 16.9817 18.8897 17.8367 18.3624 18.3641C14.8482 21.8786 9.14998 21.8786 5.63494 18.3641C2.12169 14.8496 2.12169 9.15077 5.63494 5.63625C9.08789 2.18294 14.6484 2.12264 18.1752 5.45355L19.4639 4.16565C20.0308 3.59864 21 4.00005 21 4.80195V9.30197C21 9.79877 20.5968 10.202 20.1001 10.202H15.6005C14.7987 10.202 14.3974 9.23267 14.9643 8.66567L16.2647 7.36426Z" fill="#126DF7"/>
</svg>`,z={businessDesign:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.2938 20.9292C9.3683 20.0121 7.65852 18.0817 7.72211 16.244C7.72211 16.244 8.04721 16.7167 8.29449 16.7167C8.29449 16.7167 8.01884 15.1742 8.88785 14.1794C9.08567 15.9204 9.88411 17.8366 10.527 18.0613C9.98302 16.3189 10.2515 14.7757 10.4987 14.1794C10.8732 15.4484 11.5655 16.2192 11.5655 16.2192C11.5655 16.2192 12.6112 14.4768 12.484 11.4916C13.678 12.661 13.7487 15.0004 13.4307 15.9204C14.3209 15.5473 14.547 14.2041 14.5682 14.1292C14.5965 14.055 15.2395 15.572 14.7944 16.6177C14.7944 16.6177 15.3383 16.5676 15.4867 16.1698C15.4867 16.1698 15.2888 17.9362 14.3986 18.8569C13.7698 19.5034 12.6465 20.2714 12.0318 20.672L12.1661 20.6982C15.741 21.6958 17.698 18.8568 18.0937 17.7376C18.4893 16.6177 18.0937 14.751 18.0937 14.751C18.0937 14.751 17.8958 15.4484 17.2953 15.7465C17.2953 15.7465 18.9345 11.6908 17.0269 9.74989C17.0269 9.74989 17.0764 10.5709 16.2074 11.392C16.2074 11.392 15.9812 7.08755 14.0736 6.24108C14.0736 6.24108 14.2433 7.6097 13.8476 8.10712C13.6286 6.16618 11.9541 5.24553 11.3183 2.60862C10.1525 4.20123 11.0992 5.89275 10.5764 7.11229C10.5764 7.11229 10.1031 5.66877 8.91614 5.42006C9.26232 6.31599 9.21284 9.67572 8.46394 10.5957C8.5134 9.99862 7.75744 9.11186 7.1569 9.15285C7.1569 9.15285 7.32649 12.1635 6.83194 13.7321C6.83194 13.7321 6.45752 12.9104 6.01242 12.8468C6.01242 14.0246 5.38363 15.796 6.01242 17.8359C6.76132 20.2672 8.44278 21.0762 10.2938 20.9292Z" fill="#FF0000"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M20 2H4C2.89543 2 2 2.89543 2 4V20C2 21.1046 2.89543 22 4 22H20C21.1046 22 22 21.1046 22 20V4C22 2.89543 21.1046 2 20 2ZM4 0C1.79086 0 0 1.79086 0 4V20C0 22.2091 1.79086 24 4 24H20C22.2091 24 24 22.2091 24 20V4C24 1.79086 22.2091 0 20 0H4Z" fill="#FF0000"/>
  </svg>`,resetIcon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M20 2H4C2.89543 2 2 2.89543 2 4V20C2 21.1046 2.89543 22 4 22H20C21.1046 22 22 21.1046 22 20V4C22 2.89543 21.1046 2 20 2ZM4 0C1.79086 0 0 1.79086 0 4V20C0 22.2091 1.79086 24 4 24H20C22.2091 24 24 22.2091 24 20V4C24 1.79086 22.2091 0 20 0H4Z" fill="#FF0000"/>
  <path d="M11.417 12.6857V19.4991H8.97252C8.62633 19.4991 8.3437 19.781 8.3437 20.1287C8.3437 20.4756 8.62633 20.7575 8.97252 20.7575H15.0202C15.3663 20.7575 15.649 20.4756 15.649 20.1287C15.649 19.781 15.3663 19.4991 15.0202 19.4991H12.5757V12.6857C15.3593 12.3953 17.5212 10.0466 17.5212 7.19211V3.24311H10.9931L11.7068 6.47495L10.2442 6.52299L10.979 10.9666L8.73228 5.38753L10.2231 5.43559L9.37531 3.24311H6.47147V7.19211C6.47147 10.0466 8.64043 12.3953 11.417 12.6857Z" fill="#FF0000"/>
  </svg>`,chevronRight:`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.29289 12.2929C4.90237 12.6834 4.90237 13.3166 5.29289 13.7071C5.68342 14.0976 6.31658 14.0976 6.70711 13.7071L11.7071 8.70711C12.0976 8.31658 12.0976 7.68342 11.7071 7.29289L6.70711 2.29289C6.31658 1.90237 5.68342 1.90237 5.29289 2.29289C4.90237 2.68342 4.90237 3.31658 5.29289 3.70711L9.58579 8L5.29289 12.2929Z" fill="black"/>
</svg>`},c={primary:"#126DF7",secondary:"#F5F5F5",highlight:"#FFDD2D",textPrimary:"#333333",textSecondary:"#6F7072",button:"#FFDD2D",buttonText:"#333333",subtle:"#999999",hoverDarken:"#b3b3b3"},v={h1:{fontSize:56,fontWeight:"bold"},h4:{fontSize:28,fontWeight:"bold"},item:{fontSize:16,fontWeight:"normal"}},s={cornerRadius:24,shadow:{type:"drop-shadow",color:{r:0,g:0,b:0,a:.12},offset:{x:0,y:6},blur:34,spread:0},padding:{horizontal:48,bottom:64,item:20,itemIndent:12,itemGroup:32},button:{width:474,height:56,cornerRadius:12},navigation:{height:64,padding:{left:28,right:28},itemSpacing:2,progress:{width:140,height:8},iconMargin:{left:25,right:23}}};var{widget:st}=figma,{AutoLayout:k,Text:D,SVG:P}=st;function Q({onSelectChecklist:i,progressStatuses:t}){return figma.widget.h(k,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"start",height:"hug-contents",fill:"#FFFFFF",cornerRadius:24,padding:{top:0,bottom:64,left:48,right:48},spacing:20,width:570,effect:[{type:"drop-shadow",color:{r:0,g:0,b:0,a:.12},offset:{x:0,y:6},blur:34,spread:0}]},figma.widget.h(k,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",height:64,width:570,padding:{left:28,right:28},spacing:8},figma.widget.h(P,{src:z.businessDesign,width:24,height:24}),figma.widget.h(D,{fontSize:16,fill:"#FF0000",width:"fill-parent",horizontalAlignText:"center",truncate:!0},"Business Design Service Management"),figma.widget.h(P,{src:z.resetIcon,width:24,height:24})),figma.widget.h(k,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"start",width:"fill-parent",spacing:20},figma.widget.h(R,{title:"Define",description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u044D\u0442\u0430\u043F\u0430 Define",onClick:()=>i("define"),progress:t.define}),figma.widget.h(R,{title:"Research task",description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u044D\u0442\u0430\u043F\u0430 Research",onClick:()=>i("research"),progress:t.research}),figma.widget.h(R,{title:"Design task",description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u044D\u0442\u0430\u043F\u0430 Design",onClick:()=>i("design"),progress:t.design}),figma.widget.h(R,{title:"Custom",description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u044D\u0442\u0430\u043F\u0430 Custom",onClick:()=>i("custom"),progress:t.custom})))}function R({title:i,description:t,onClick:o,progress:u}){return figma.widget.h(k,{width:"fill-parent",height:"hug-contents",fill:c.secondary,cornerRadius:12,padding:{left:24,right:24,top:16,bottom:16},spacing:8,onClick:o},figma.widget.h(k,{direction:"vertical",width:"fill-parent",spacing:2},figma.widget.h(D,{fontSize:16,fontWeight:"bold",fill:c.textPrimary},i),figma.widget.h(D,{fontSize:14,fill:c.textSecondary},t)),figma.widget.h(k,{direction:"horizontal",spacing:8,verticalAlignItems:"center",height:"fill-parent"},figma.widget.h(D,{fontSize:14,fill:c.textSecondary},u,"%"),figma.widget.h(P,{src:z.chevronRight,width:16,height:16})))}var{widget:ct}=figma,{AutoLayout:T,Text:U,SVG:lt}=ct;function X({items:i,handleCheckboxClick:t,checkedItems:o,getItemState:u}){let d=(p,f=0,I=void 0)=>p.map((g,y)=>{var Z,N;let{text:n,children:r,type:e}=g,C=e==="h1"||e==="h4",l=((Z=v[e])==null?void 0:Z.fontSize)||v.item.fontSize,m=((N=v[e])==null?void 0:N.fontWeight)||v.item.fontWeight,x=e==="item"&&I!=="h4"?f>=3?36:24:0,a=e==="h4"?s.padding.itemGroup:4,h=e==="h1"&&I===void 0?28:0,F=u(g),tt=F==="selected"?q:F==="indeterminate"?J:j;return figma.widget.h(T,{key:y,direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"center",spacing:e==="item"?s.padding.item:20,padding:{left:x,top:h,bottom:a}},C?figma.widget.h(U,{fontSize:l,fontWeight:m,fill:c.textPrimary},n):figma.widget.h(T,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:12,onClick:()=>t(g)},figma.widget.h(lt,{src:tt}),figma.widget.h(U,{fontSize:l,fontWeight:m,fill:e==="item"?c.textPrimary:c.textSecondary},n)),r&&d(r,f+1,e))});return figma.widget.h(T,{padding:{left:s.padding.horizontal,right:s.padding.horizontal,bottom:8}},d(i))}var V=[{text:"Define",type:"h1",children:[{text:"\u041F\u043E\u043D\u0438\u043C\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",type:"h4",children:[{text:"\u041F\u0440\u043E\u0431\u043B\u0435\u043C\u044B \u0438 \u043F\u043E\u0442\u0440\u0435\u0431\u043D\u043E\u0441\u0442\u0438",type:"item",children:[{text:"\u0427\u0442\u043E \u0445\u043E\u0447\u0435\u0442 \u0434\u043E\u0441\u0442\u0438\u0447\u044C \u0431\u0438\u0437\u043D\u0435\u0441",type:"item"},{text:"\u0427\u0442\u043E \u0431\u043E\u043B\u0438\u0442 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C",type:"item"},{text:"\u041E\u0431\u043E\u0441\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u044B",type:"item"}]},{text:"\u0426\u0435\u043B\u0435\u0432\u0430\u044F \u0430\u0443\u0434\u0438\u0442\u043E\u0440\u0438\u044F",type:"item"},{text:"\u041C\u0435\u0442\u0440\u0438\u043A\u0438 \u0438 \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u0438",type:"item",children:[{text:"\u041D\u0430 \u0447\u0442\u043E \u0432\u043B\u0438\u044F\u0435\u043C",type:"item"},{text:"\u041A\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0443\u0441\u043F\u0435\u0445\u0430",type:"item"}]},{text:"\u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0440\u0435\u0448\u0435\u043D\u0438\u0435",type:"item"},{text:"\u041A\u0430\u043A \u0440\u0435\u0448\u0430\u0435\u043C",type:"item"},{text:"\u0424\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0435 \u0442\u0440\u0435\u0431\u043E\u0432\u0430\u043D\u0438\u044F",type:"item"}]},{text:"\u0410\u0440\u0442\u0435\u0444\u0430\u043A\u0442\u044B",type:"h4",children:[{text:"\u0412\u0435\u043D\u043E\u043C \u043F\u043E\u0433\u0440\u0443\u0436\u0435\u043D \u0432 \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",type:"item"},{text:"\u041F\u043B\u0430\u043D \u0440\u0430\u0431\u043E\u0442 \u043E\u0431\u0441\u0443\u0436\u0434\u0435\u043D \u0441 \u0437\u0430\u043A\u0430\u0437\u0447\u0438\u043A\u043E\u043C/\u043A\u043E\u043C\u0430\u043D\u0434\u043E\u0439",type:"item"}]}]}];var H=[{text:"Research Task 1",type:"item",children:[{text:"Subtask 1",type:"item"},{text:"Subtask 2",type:"item"}]}];var B=[{text:"Design Task 1",type:"item",children:[{text:"Subtask 1",type:"item"},{text:"Subtask 2",type:"item"}]}];var M=[{text:"custom Task 1",type:"item",children:[{text:"Subtask 1",type:"item"},{text:"Subtask 2",type:"item"}]}];function w(i,t,o){let u=n=>n.reduce((r,e)=>(r.push(e),e.children&&r.push(...u(e.children)),r),[]),d=u(o),p=n=>{if(!n.children||n.children.length===0)return i[n.text]?"selected":"unselected";let r=n.children.map(l=>p(l)),e=r.every(l=>l==="selected"),C=r.some(l=>l==="selected"||l==="indeterminate");return e?"selected":C?"indeterminate":"unselected"},f=(n,r)=>{t(e=>A(L({},e),{[n.text]:r})),n.children&&n.children.forEach(e=>f(e,r))};return{handleCheckboxClick:n=>{let r=p(n)!=="selected";f(n,r);let e=(C,l)=>{C.forEach(m=>{if(m.children){let x=p(m);t(a=>A(L({},a),{[m.text]:x==="selected"})),e(m.children,m)}if(l){let x=p(l);t(a=>A(L({},a),{[l.text]:x}))}})};e(o)},resetState:()=>{t({})},getItemState:p,calculateProgress:()=>{let n=d.filter(e=>i[e.text]).length;console.log("Flat Items:",d),console.log("Checked Count:",n);let r=d.length>0?n/d.length*100:0;return console.log("Calculated Progress:",r),r},flatItems:d}}var{widget:at}=figma,{AutoLayout:b,Text:ht,SVG:Y}=at;function _({resetState:i,progressBarWidth:t,onBack:o}){return(t<=0||isNaN(t))&&(console.error("Invalid Progress Bar Width:",t),t=1),figma.widget.h(b,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"center",height:s.navigation.height,fill:"#FFFFFF",spacing:29,padding:s.navigation.padding,width:570},figma.widget.h(b,{width:158,horizontalAlignItems:"start",verticalAlignItems:"center",onClick:o},figma.widget.h(Y,{src:K}),figma.widget.h(ht,{fontSize:16,fill:c.primary,x:2},"\u041D\u0430\u0437\u0430\u0434")),figma.widget.h(b,{width:s.navigation.progress.width,height:s.navigation.progress.height,fill:c.secondary,cornerRadius:20,horizontalAlignItems:"start",verticalAlignItems:"center"},figma.widget.h(b,{width:t,height:"fill-parent",fill:c.primary,cornerRadius:20})),figma.widget.h(b,{width:158,horizontalAlignItems:"end",verticalAlignItems:"center"},figma.widget.h(Y,{src:O,onClick:i})))}var{widget:$}=figma,{useSyncedState:S,AutoLayout:W,Text:dt}=$;function gt(){let[i,t]=S("defineCheckedItems",{}),[o,u]=S("researchCheckedItems",{}),[d,p]=S("designCheckedItems",{}),[f,I]=S("customCheckedItems",{}),[g,y]=S("currentScreen","start"),n=w(i,t,V),r=w(o,u,H),e=w(d,p,B),C=w(f,I,M),l={define:n.calculateProgress(),research:r.calculateProgress(),design:e.calculateProgress(),custom:C.calculateProgress()},m=()=>y("start");return(()=>{if(g==="start")return figma.widget.h(Q,{onSelectChecklist:y,progressStatuses:l});let a=[],h;if(g==="define"?(a=V,h=n):g==="research"?(a=H,h=r):g==="design"?(a=B,h=e):g==="custom"&&(a=M,h=C),!h||!a)return null;let F=h.calculateProgress();return figma.widget.h(W,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"start",height:"hug-contents",fill:"#FFFFFF",cornerRadius:s.cornerRadius,width:570,effect:[{type:"drop-shadow",color:{r:0,g:0,b:0,a:.12},offset:{x:0,y:6},blur:34,spread:0}]},figma.widget.h(_,{resetState:h.resetState,progressBarWidth:F/100*s.navigation.progress.width,onBack:m}),figma.widget.h(X,{items:a,handleCheckboxClick:h.handleCheckboxClick,checkedItems:i,getItemState:h.getItemState}),h.getItemState(a[0])==="selected"&&figma.widget.h(W,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"center",width:"fill-parent",padding:{left:s.padding.horizontal,bottom:s.padding.bottom}},figma.widget.h(W,{width:s.button.width,height:s.button.height,fill:c.button,cornerRadius:s.button.cornerRadius,horizontalAlignItems:"center",verticalAlignItems:"center"},figma.widget.h(dt,{fontSize:16,fill:c.buttonText},"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C \u044D\u0442\u0430\u043F"))))})()}$.register(gt);})();
