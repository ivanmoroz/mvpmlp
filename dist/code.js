(()=>{var J=Object.defineProperty,K=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var z=(i,t,l)=>t in i?J(i,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[t]=l,k=(i,t)=>{for(var l in t||(t={}))Q.call(t,l)&&z(i,l,t[l]);if(L)for(var l of L(t))U.call(t,l)&&z(i,l,t[l]);return i},w=(i,t)=>K(i,O(t));var D=`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24" rx="4" fill="#F5F5F5"/>
</svg>`,P=`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24" rx="4" fill="#FFDD2D"/>
  <path d="M7 12L10 15L17 8" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,R=`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24" rx="4" fill="#FFDD2D"/>
  <rect x="7" y="11" width="10" height="2" fill="black"/>
</svg>`,W=`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 8L9.34218 2L10.6844 3.42335L6.18436 8L10.6844 12.5766L9.34218 14L3.5 8Z" fill="#126DF7"/>
</svg>`,T=`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M16.2647 7.36426C13.7935 5.08635 9.94281 5.14665 7.54455 7.54516C5.08419 10.0058 5.08419 13.9946 7.54455 16.4552C10.004 18.9149 13.9933 18.9149 16.4537 16.4552C16.9801 15.9278 17.835 15.9278 18.3624 16.4552C18.8897 16.9817 18.8897 17.8367 18.3624 18.3641C14.8482 21.8786 9.14998 21.8786 5.63494 18.3641C2.12169 14.8496 2.12169 9.15077 5.63494 5.63625C9.08789 2.18294 14.6484 2.12264 18.1752 5.45355L19.4639 4.16565C20.0308 3.59864 21 4.00005 21 4.80195V9.30197C21 9.79877 20.5968 10.202 20.1001 10.202H15.6005C14.7987 10.202 14.3974 9.23267 14.9643 8.66567L16.2647 7.36426Z" fill="#126DF7"/>
</svg>`,s={primary:"#126DF7",secondary:"#F5F5F5",highlight:"#FFDD2D",textPrimary:"#333333",textSecondary:"#595959",button:"#FFDD2D",buttonText:"#333333"},y={h1:{fontSize:56,fontWeight:"bold"},h4:{fontSize:28,fontWeight:"bold"},item:{fontSize:16,fontWeight:"normal"}},r={cornerRadius:24,shadow:{type:"drop-shadow",color:{r:0,g:0,b:0,a:.12},offset:{x:0,y:6},blur:34,spread:0},padding:{horizontal:48,bottom:64,item:20,itemIndent:12,itemGroup:32},button:{width:474,height:56,cornerRadius:12},navigation:{height:64,padding:{left:28,right:28},itemSpacing:2,progress:{width:140,height:8},iconMargin:{left:25,right:23}}};var{widget:X}=figma,{AutoLayout:v,Text:B,SVG:Y}=X;function N({items:i,handleCheckboxClick:t,checkedItems:l,getItemState:h}){let d=(C,g=0,p=void 0)=>C.map((e,c)=>{var S,A;let{text:n,children:a,type:o}=e,m=o==="h1"||o==="h4",u=((S=y[o])==null?void 0:S.fontSize)||y.item.fontSize,f=((A=y[o])==null?void 0:A.fontWeight)||y.item.fontWeight,H=o==="item"&&p!=="h4"?g>=3?36:24:0,Z=o==="h4"?r.padding.itemGroup:4,j=o==="h1"&&p===void 0?28:0,F=h(e),q=F==="selected"?P:F==="indeterminate"?R:D;return figma.widget.h(v,{key:c,direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"center",spacing:o==="item"?r.padding.item:20,padding:{left:H,top:j,bottom:Z}},m?figma.widget.h(B,{fontSize:u,fontWeight:f,fill:m?s.textPrimary:s.textSecondary},n):figma.widget.h(v,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:12,onClick:()=>t(e)},figma.widget.h(Y,{src:q}),figma.widget.h(B,{fontSize:u,fontWeight:f,fill:s.textSecondary},n)),a&&d(a,g+1,o))});return figma.widget.h(v,{padding:{left:r.padding.horizontal,right:r.padding.horizontal,bottom:8}},d(i))}var x=[{text:"Define",type:"h1",children:[{text:"\u041F\u043E\u043D\u0438\u043C\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",type:"h4",children:[{text:"\u041F\u0440\u043E\u0431\u043B\u0435\u043C\u044B \u0438 \u043F\u043E\u0442\u0440\u0435\u0431\u043D\u043E\u0441\u0442\u0438",type:"item",children:[{text:"\u0427\u0442\u043E \u0445\u043E\u0447\u0435\u0442 \u0434\u043E\u0441\u0442\u0438\u0447\u044C \u0431\u0438\u0437\u043D\u0435\u0441",type:"item"},{text:"\u0427\u0442\u043E \u0431\u043E\u043B\u0438\u0442 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C",type:"item"},{text:"\u041E\u0431\u043E\u0441\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u044B",type:"item"}]},{text:"\u0426\u0435\u043B\u0435\u0432\u0430\u044F \u0430\u0443\u0434\u0438\u0442\u043E\u0440\u0438\u044F",type:"item"},{text:"\u041C\u0435\u0442\u0440\u0438\u043A\u0438 \u0438 \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u0438",type:"item",children:[{text:"\u041D\u0430 \u0447\u0442\u043E \u0432\u043B\u0438\u044F\u0435\u043C",type:"item"},{text:"\u041A\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0443\u0441\u043F\u0435\u0445\u0430",type:"item"}]},{text:"\u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0440\u0435\u0448\u0435\u043D\u0438\u0435",type:"item"},{text:"\u041A\u0430\u043A \u0440\u0435\u0448\u0430\u0435\u043C",type:"item"},{text:"\u0424\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0435 \u0442\u0440\u0435\u0431\u043E\u0432\u0430\u043D\u0438\u044F",type:"item"}]},{text:"\u0410\u0440\u0442\u0435\u0444\u0430\u043A\u0442\u044B",type:"h4",children:[{text:"\u0412\u0435\u043D\u043E\u043C \u043F\u043E\u0433\u0440\u0443\u0436\u0435\u043D \u0432 \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",type:"item"},{text:"\u041F\u043B\u0430\u043D \u0440\u0430\u0431\u043E\u0442 \u043E\u0431\u0441\u0443\u0436\u0434\u0435\u043D \u0441 \u0437\u0430\u043A\u0430\u0437\u0447\u0438\u043A\u043E\u043C/\u043A\u043E\u043C\u0430\u043D\u0434\u043E\u0439",type:"item"}]}]}];function G(i,t){let l=e=>e.reduce((c,n)=>(c.push(n),n.children&&c.push(...l(n.children)),c),[]),h=e=>{if(!e.children||e.children.length===0)return i[e.text]?"selected":"unselected";let c=e.children.map(o=>h(o)),n=c.every(o=>o==="selected"),a=c.some(o=>o==="selected"||o==="indeterminate");return n?"selected":a?"indeterminate":"unselected"},d=(e,c)=>{t(n=>w(k({},n),{[e.text]:c})),e.children&&e.children.forEach(n=>d(n,c))};return{handleCheckboxClick:e=>{let c=h(e)!=="selected";d(e,c);let n=(a,o)=>{a.forEach(m=>{if(m.children){let u=h(m);t(f=>w(k({},f),{[m.text]:u==="selected"})),n(m.children,m)}if(o){let u=h(o);t(f=>w(k({},f),{[o.text]:u}))}})};n(x)},resetState:()=>{t({})},getItemState:h,calculateProgress:()=>{let e=l(x).filter(a=>a.type==="item"),c=e.filter(a=>i[a.text]).length;console.log("Flat Items:",e),console.log("Checked Count:",c);let n=e.length>0?c/e.length*100:0;return console.log("Calculated Progress:",n),n}}}var{widget:_}=figma,{AutoLayout:I,Text:$,SVG:M}=_;function V({resetState:i,progressBarWidth:t}){return(t<=0||isNaN(t))&&(console.error("Invalid Progress Bar Width:",t),t=1),console.log("Final Progress Bar Width for Rendering:",t),figma.widget.h(I,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"center",height:r.navigation.height,fill:"#FFFFFF",spacing:29,padding:r.navigation.padding,width:570},figma.widget.h(I,{width:158,horizontalAlignItems:"start",verticalAlignItems:"center"},figma.widget.h(M,{src:W}),figma.widget.h($,{fontSize:16,fill:s.primary,x:2},"\u041D\u0430\u0437\u0430\u0434")),figma.widget.h(I,{width:r.navigation.progress.width,height:r.navigation.progress.height,fill:s.secondary,cornerRadius:20,horizontalAlignItems:"start",verticalAlignItems:"center"},figma.widget.h(I,{width:t,height:"fill-parent",fill:s.primary,cornerRadius:20})),figma.widget.h(I,{width:158,horizontalAlignItems:"end",verticalAlignItems:"center"},figma.widget.h(M,{src:T,onClick:i})))}var{widget:E}=figma,{useSyncedState:tt,AutoLayout:b,Text:et}=E;function ot(){let[i,t]=tt("checkedItems",{}),{handleCheckboxClick:l,resetState:h,getItemState:d,calculateProgress:C}=G(i,t);console.log("Calling calculateProgress...");let g=C();console.log("Progress:",g);let p=g>=0&&g<=100?g/100*r.navigation.progress.width:70;return console.log("Calculated Progress Bar Width:",p),figma.widget.h(b,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"start",height:"hug-contents",fill:"#FFFFFF",cornerRadius:r.cornerRadius,width:570,effect:[{type:"drop-shadow",color:{r:0,g:0,b:0,a:.12},offset:{x:0,y:6},blur:34,spread:0}]},figma.widget.h(V,{resetState:h,progressBarWidth:p}),figma.widget.h(N,{items:x,handleCheckboxClick:l,checkedItems:i,getItemState:d}),d(x[0])==="selected"&&figma.widget.h(b,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"center",width:"fill-parent",padding:{left:r.padding.horizontal,bottom:r.padding.bottom}},figma.widget.h(b,{width:r.button.width,height:r.button.height,fill:s.button,cornerRadius:r.button.cornerRadius,horizontalAlignItems:"center",verticalAlignItems:"center"},figma.widget.h(et,{fontSize:16,fill:s.buttonText},"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C \u044D\u0442\u0430\u043F"))))}E.register(ot);})();
